import{_}from"./D1JDMDDZ.js";import{k as S,l as C,m as n,n as V,c as m,a as e,p as N,q as B,s as f,v as p,j as r,x as b,t as y,d as u,b as j,w as q,o as x}from"./DGCzKnOV.js";import{u as D}from"./Bo3OYLVH.js";const G={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-sky-50 via-white to-sky-50 px-4"},I={class:"max-w-md w-full"},L={class:"bg-white p-8 rounded-xl shadow-xl"},P={key:0,class:"p-4 bg-red-50 text-red-600 rounded-lg text-sm"},T=["disabled"],U=["disabled"],W={class:"mt-6 text-center text-sm"},E={class:"text-gray-600"},K={__name:"login",setup(H){const c=D(),w=S(),g=C(),i=n(""),l=n(""),a=n(""),o=n(!1);V(w,t=>{t&&g.push("/stories")});const h=async()=>{try{o.value=!0,a.value="";const{error:t}=await c.auth.signInWithPassword({email:i.value,password:l.value});if(t)throw t;g.push("/stories")}catch(t){a.value=t.message}finally{o.value=!1}},v=async()=>{try{o.value=!0,a.value="";const{error:t}=await c.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/confirm`}});if(t)throw t}catch(t){a.value=t.message,o.value=!1}};return(t,s)=>{const k=_;return x(),m("div",G,[e("div",I,[s[7]||(s[7]=e("div",{class:"text-center mb-8"},[e("img",{src:"https://api.dicebear.com/7.x/personas/svg?skinColor=d78774&hair=balding&body=checkered&nose=wrinkles&eyes=glasses&mouth=bigSmile&facialHair=walrus&hairColor=dee1f5&clothingColor=f3b63a&backgroundColor=bde4a7&facialHairProbability=100&radius=50",alt:"Kintales",class:"w-20 h-20 mx-auto rounded-full shadow-lg mb-4"}),e("h1",{class:"text-3xl font-bold text-gray-900"},"Welcome Back!"),e("p",{class:"text-gray-600 mt-2"},"Sign in to continue sharing stories")],-1)),e("div",L,[e("form",{onSubmit:N(h,["prevent"]),class:"space-y-6"},[e("div",null,[s[2]||(s[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),f(e("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>b(i)?i.value=d:null),type:"email",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[p,r(i)]])]),e("div",null,[s[3]||(s[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),f(e("input",{"onUpdate:modelValue":s[1]||(s[1]=d=>b(l)?l.value=d:null),type:"password",required:"",class:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-sky-500 focus:border-sky-500"},null,512),[[p,r(l)]])]),r(a)?(x(),m("div",P,y(r(a)),1)):B("",!0),e("button",{type:"submit",disabled:r(o),class:"w-full py-3 px-4 bg-sky-600 text-white rounded-lg hover:bg-sky-700 focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50"},y(r(o)?"Signing in...":"Sign In"),9,T),e("button",{type:"button",onClick:v,disabled:r(o),class:"w-full py-3 px-4 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50 flex items-center justify-center gap-2"},s[4]||(s[4]=[e("img",{src:"https://www.google.com/favicon.ico",alt:"Google",class:"w-5 h-5"},null,-1),u(" Sign in with Google ")]),8,U)],32),e("div",W,[e("p",E,[s[6]||(s[6]=u(" Don't have an account? ")),j(k,{to:"/signup",class:"text-sky-600 hover:text-sky-700 font-medium"},{default:q(()=>s[5]||(s[5]=[u(" Sign up ")])),_:1})])])])])])}}};export{K as default};
