import{_ as T}from"./D1JDMDDZ.js";import{m as A,D as Z,c as a,o as n,a as e,F as c,r as m,H as S,G as u,t as g,q as L,p as O,s as M,v as H,b as p,w as U,d as V,j as x}from"./DGCzKnOV.js";import{u as q}from"./Crxi5PNh.js";import{W as D}from"./KFDm0b3B.js";import{c as j}from"./B9ojvN77.js";import"./Bo3OYLVH.js";/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=j("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=j("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=j("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),G={class:"bg-white rounded-lg shadow-xl p-6"},W={class:"flex items-center gap-6 mb-8"},I={class:"relative w-24 h-24"},J=["src"],K={class:"space-y-6"},Q={class:"grid grid-cols-6 gap-2"},X=["onClick"],Y={class:"grid grid-cols-4 gap-4"},ee=["onClick"],te=["src","alt"],se={class:"text-center text-sm mt-1 capitalize"},oe={class:"flex flex-wrap gap-2"},le=["onClick"],re={class:"flex flex-wrap gap-2"},ae=["onClick"],ne={class:"flex flex-wrap gap-2"},ie=["onClick"],de={class:"flex flex-wrap gap-2"},ue=["onClick"],ce={class:"flex flex-wrap gap-2"},me=["onClick"],be={class:"grid grid-cols-6 gap-2"},ge=["onClick"],pe={class:"grid grid-cols-6 gap-2"},ye=["onClick"],ve={class:"grid grid-cols-6 gap-2"},xe=["onClick"],fe={__name:"AvatarCreator",setup(B,{expose:h}){const C=["623d36","92594b","b16a5b","d78774","e5a07e","e7a391","eeb4a4"],_=["bald","balding","bobBangs","bobCut","bunUndercut","buzzcut","curly","curlyBun","curlyHighTop","fade","long","mohawk","pigtails","shortCombover","straightBun"],y=["checkered","rounded","small","squared"],k=["mediumRound","smallRound","wrinkles"],s=["glasses","happy","open","sleep","sunglasses","wink"],f=["bigSmile","frown","lips","pacifier","smile","smirk","surprise"],w=["beardMustache","goatee","pyramid","shadow","soulPatch","walrus"],i=["6c4545","362c47","dee1f5","e15c66","e16381","f27d65","f29c65"],v=["6dbb58","54d7c7","456dff","7555ca","e24553","f3b63a","f55d81"],o=["b6e3f4","c0aede","ffd5dc","ffdfbf","bde4a7","b4e9f8"],r=A({skinColor:"d78774",hair:"balding",body:"checkered",nose:"wrinkles",eyes:"glasses",mouth:"bigSmile",facialHair:"walrus",hairColor:"dee1f5",clothingColor:"f3b63a",backgroundColor:"bde4a7"}),d=$=>{const l={...r.value,...$},t=new URLSearchParams;return Object.entries(l).forEach(([b,z])=>{z&&t.append(b,z)}),t.append("facialHairProbability",l.facialHair?"100":"0"),t.append("radius","50"),t.toString()},N=Z(()=>`https://api.dicebear.com/7.x/personas/svg?${d()}`),P=$=>`https://api.dicebear.com/7.x/personas/svg?${d($)}`;return h({getAvatarUrl:()=>N.value}),($,l)=>(n(),a("div",G,[e("div",W,[e("div",I,[e("img",{src:N.value,alt:"Avatar Preview",class:"w-24 h-24 max-w-none rounded-full border-4 border-white shadow-lg animate-float"},null,8,J)]),l[1]||(l[1]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Avatar Creator"),e("p",{class:"text-gray-600"},"Customize your family member's avatar")],-1))]),e("div",K,[e("div",null,[l[2]||(l[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Skin Color",-1)),e("div",Q,[(n(),a(c,null,m(C,t=>e("button",{key:t,onClick:b=>r.value.skinColor=t,class:u(["w-8 h-8 rounded-full border-2 transition-all duration-200",r.value.skinColor===t?"border-sky-500 scale-110 shadow-lg":"border-gray-200"]),style:S({backgroundColor:`#${t}`})},null,14,X)),64))])]),e("div",null,[l[3]||(l[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Hair Style",-1)),e("div",Y,[(n(),a(c,null,m(_,t=>e("button",{key:t,onClick:b=>r.value.hair=t,class:u(["p-2 rounded-lg border-2 transition-all duration-200",r.value.hair===t?"border-sky-500 bg-sky-50 shadow-lg":"border-gray-200"])},[e("img",{src:P({hair:t}),alt:t,class:"w-full h-auto rounded-full aspect-square object-cover"},null,8,te),e("p",se,g(t.replace(/([A-Z])/g," $1").trim()),1)],10,ee)),64))])]),e("div",null,[l[4]||(l[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Body Type",-1)),e("div",oe,[(n(),a(c,null,m(y,t=>e("button",{key:t,onClick:b=>r.value.body=t,class:u(["px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.value.body===t?"bg-sky-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},g(t.replace(/([A-Z])/g," $1").trim()),11,le)),64))])]),e("div",null,[l[5]||(l[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nose Style",-1)),e("div",re,[(n(),a(c,null,m(k,t=>e("button",{key:t,onClick:b=>r.value.nose=t,class:u(["px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.value.nose===t?"bg-sky-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},g(t.replace(/([A-Z])/g," $1").trim()),11,ae)),64))])]),e("div",null,[l[6]||(l[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Eyes",-1)),e("div",ne,[(n(),a(c,null,m(s,t=>e("button",{key:t,onClick:b=>r.value.eyes=t,class:u(["px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.value.eyes===t?"bg-sky-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},g(t.replace(/([A-Z])/g," $1").trim()),11,ie)),64))])]),e("div",null,[l[7]||(l[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mouth",-1)),e("div",de,[(n(),a(c,null,m(f,t=>e("button",{key:t,onClick:b=>r.value.mouth=t,class:u(["px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.value.mouth===t?"bg-sky-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},g(t.replace(/([A-Z])/g," $1").trim()),11,ue)),64))])]),e("div",null,[l[8]||(l[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Facial Hair",-1)),e("div",ce,[(n(),a(c,null,m(w,t=>e("button",{key:t,onClick:b=>r.value.facialHair=t,class:u(["px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.value.facialHair===t?"bg-sky-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},g(t.replace(/([A-Z])/g," $1").trim()),11,me)),64)),e("button",{onClick:l[0]||(l[0]=t=>r.value.facialHair=""),class:u(["px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200",r.value.facialHair?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-sky-500 text-white shadow-lg scale-105"])}," None ",2)])]),e("div",null,[l[9]||(l[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Hair Color",-1)),e("div",be,[(n(),a(c,null,m(i,t=>e("button",{key:t,onClick:b=>r.value.hairColor=t,class:u(["w-8 h-8 rounded-full border-2 transition-all duration-200",r.value.hairColor===t?"border-sky-500 scale-110 shadow-lg":"border-gray-200"]),style:S({backgroundColor:`#${t}`})},null,14,ge)),64))])]),e("div",null,[l[10]||(l[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Clothing Color",-1)),e("div",pe,[(n(),a(c,null,m(v,t=>e("button",{key:t,onClick:b=>r.value.clothingColor=t,class:u(["w-8 h-8 rounded-full border-2 transition-all duration-200",r.value.clothingColor===t?"border-sky-500 scale-110 shadow-lg":"border-gray-200"]),style:S({backgroundColor:`#${t}`})},null,14,ye)),64))])]),e("div",null,[l[11]||(l[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Background Color",-1)),e("div",ve,[(n(),a(c,null,m(o,t=>e("button",{key:t,onClick:b=>r.value.backgroundColor=t,class:u(["w-8 h-8 rounded-full border-2 transition-all duration-200",r.value.backgroundColor===t?"border-sky-500 scale-110 shadow-lg":"border-gray-200"]),style:S({backgroundColor:`#${t}`})},null,14,xe)),64))])])])]))}},he={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50"},ke={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] overflow-auto"},we={class:"p-6"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={class:"space-y-4"},$e={class:"grid grid-cols-4 gap-4"},Se=["onClick"],Me={__name:"CreateStoryModal",props:{isOpen:Boolean},emits:["close"],setup(B,{emit:h}){const C=h,{addStory:_}=q(),y=A(),k=[{class:"bg-sky-100"},{class:"bg-rose-100"},{class:"bg-indigo-100"},{class:"bg-amber-100"},{class:"bg-blue-100"},{class:"bg-green-100"},{class:"bg-purple-100"},{class:"bg-orange-100"}],s=A({familyMember:"",author:"",title:"",content:"",backgroundColor:k[0].class}),f=v=>{s.value.backgroundColor=v.class},w=()=>{C("close"),s.value={familyMember:"",author:"",title:"",content:"",backgroundColor:k[0].class}},i=async()=>{var v;try{const o=(v=y.value)==null?void 0:v.getAvatarUrl();await _({family_member:s.value.familyMember,author:s.value.author,title:s.value.title,content:s.value.content,avatar_url:o,background_color:s.value.backgroundColor}),w()}catch(o){console.error("Error creating story:",o)}};return(v,o)=>{const r=fe;return B.isOpen?(n(),a("div",he,[e("div",ke,[e("div",we,[o[10]||(o[10]=e("h2",{class:"text-2xl font-bold mb-6"},"Create New Story",-1)),e("form",{onSubmit:O(i,["prevent"]),class:"space-y-6"},[e("div",Ce,[e("div",_e,[e("div",null,[o[4]||(o[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Family Member Name",-1)),M(e("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>s.value.familyMember=d),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500"},null,512),[[H,s.value.familyMember]])]),e("div",null,[o[5]||(o[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Author",-1)),M(e("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>s.value.author=d),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500"},null,512),[[H,s.value.author]])]),e("div",null,[o[6]||(o[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Title",-1)),M(e("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>s.value.title=d),type:"text",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500"},null,512),[[H,s.value.title]])]),e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Story",-1)),M(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=d=>s.value.content=d),rows:"6",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-sky-500 focus:ring-sky-500"},null,512),[[H,s.value.content]])]),e("div",null,[o[8]||(o[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Background Color",-1)),e("div",$e,[(n(),a(c,null,m(k,d=>e("button",{key:d.class,type:"button",onClick:N=>f(d),class:u(["w-full h-12 rounded-lg border-2 transition-all duration-200",d.class,s.value.backgroundColor===d.class?"border-sky-500 shadow-md scale-110":"border-gray-200"])},null,10,Se)),64))])])]),e("div",null,[p(r,{ref_key:"avatarCreator",ref:y},null,512)])]),e("div",{class:"flex justify-end space-x-3 pt-4"},[e("button",{type:"button",onClick:w,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),o[9]||(o[9]=e("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-sky-600 border border-transparent rounded-md hover:bg-sky-700"}," Create Story ",-1))])],32)])])])):L("",!0)}}},He={class:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50"},Ae={class:"py-4"},Be={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center"},Ne={class:"flex items-center space-x-4"},Ue={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ve={key:0,class:"flex justify-center items-center min-h-[50vh]"},je={key:1,class:"text-center py-12"},ze={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},qe=["onClick"],Pe={class:"flex items-center mb-4"},Te=["src","alt"],Ze={class:"text-xl font-semibold text-gray-900"},Le={class:"text-sm text-gray-500"},Oe={class:"text-lg font-medium text-gray-900 mb-2"},De={class:"text-gray-600 line-clamp-3"},Je={__name:"index",setup(B){const{stories:h,isLoading:C,deleteStory:_}=q(),y=A(!1);return(k,s)=>{const f=T,w=Me;return n(),a("div",He,[e("header",Ae,[e("div",Be,[s[5]||(s[5]=e("h1",{class:"text-3xl font-bold text-gray-900"},"All Stories",-1)),e("div",Ne,[p(f,{to:"/generate",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-purple-500 hover:bg-purple-600 transition-all duration-300 hover:scale-105"},{default:U(()=>[p(x(D),{class:"h-5 w-5 mr-2"}),s[2]||(s[2]=V(" Generate Story "))]),_:1}),e("button",{onClick:s[0]||(s[0]=i=>y.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-green-500 hover:bg-green-600 transition-all duration-300 hover:scale-105"},[p(x(F),{class:"h-5 w-5 mr-2"}),s[3]||(s[3]=V(" New Story "))]),p(f,{to:"/",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-full shadow-sm text-sm font-medium text-white bg-sky-500 hover:bg-sky-600 transition-all duration-300 hover:scale-105 hover:rotate-2"},{default:U(()=>[p(x(E),{class:"h-5 w-5 mr-2"}),s[4]||(s[4]=V(" Back Home "))]),_:1})])])]),e("main",Ue,[x(C)?(n(),a("div",Ve,s[6]||(s[6]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-sky-500 border-t-transparent"},null,-1)]))):x(h).length===0?(n(),a("div",je,s[7]||(s[7]=[e("h2",{class:"text-2xl font-semibold text-gray-600"},"No stories yet",-1),e("p",{class:"mt-2 text-gray-500"},'Click the "New Story" button to create your first story!',-1)]))):(n(),a("div",ze,[(n(!0),a(c,null,m(x(h),i=>(n(),a("div",{key:i.id,class:"relative bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300"},[e("button",{onClick:v=>x(_)(i.id),class:"absolute top-2 right-2 p-2 text-gray-500 hover:text-red-500 transition-colors",title:"Delete story"},[p(x(R),{class:"h-5 w-5"})],8,qe),p(f,{to:`/stories/${i.id}`,class:"block p-6 cursor-pointer"},{default:U(()=>[e("div",Pe,[e("img",{src:i.avatar_url,alt:i.family_member,class:"w-16 h-16 rounded-full mr-4 border-2 border-white shadow-md"},null,8,Te),e("div",null,[e("h2",Ze,g(i.family_member),1),e("p",Le,"by "+g(i.author),1)])]),e("h3",Oe,g(i.title),1),e("p",De,g(i.content),1)]),_:2},1032,["to"])]))),128))]))]),p(w,{"is-open":y.value,onClose:s[1]||(s[1]=i=>y.value=!1)},null,8,["is-open"])])}}};export{Je as default};
